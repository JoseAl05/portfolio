---
import { useSanityClient, createImageBuilder } from 'astro-sanity';
import ProjectCard from '../card/ProjectCard.astro';
import Heading from '../heading/Heading.astro';

export const projects = await useSanityClient().fetch(`*[_type == "project"]`);
---

<Heading
  title='Proyectos'
  styles='w-full mt-20 text-4xl font-bold tracking-wider leading-tight text-center text-black pt-10 uppercase md:text-5xl lg:text-6xl'
  underlineStyles='h-1 mx-auto bg-black w-[230px] md:w-[270px] lg:w-[370px] opacity-90 my-0 py-0 rounded-t'
/>
<div id='proyectos' class='max-w-[100rem] p-20 mx-auto'>
  <div class='grid grid-cols-1 gap-4 mx-auto lg:mx-0 md:grid-cols-3'>
    {
      projects.map((project: any) => (
        <ProjectCard
          projectId={project._id}
          title={project.title}
          description={project.description}
          image={project.image}
          isDeployed={project.isDeployed}
          tools={project.tools}
          siteURL={project.siteURL}
          hasGit={project.hasGit}
          gitURL={project.gitURL}
        />
      ))
    }
  </div>
</div>
